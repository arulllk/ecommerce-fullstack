const errorHandlerMiddleware=(err,req,res,next)=>{let customError={statusCode:err.statusCode||500,msg:err.message||"Something went wrong",errors:err.errors||null};if(err.code&&11e3===err.code){customError.msg="Duplicate key error";const tempError={},field=Object.keys(err.keyValue)[0];tempError[field]=`${field.charAt(0).toUpperCase()+field.slice(1)} already exist`,customError.errors=tempError}if("ValidationError"==err.name){customError.statusCode=400;const tempError=Object.keys(err.errors).reduce((acc,key)=>(acc[key]=err.errors[key].message,acc),{});customError.errors=tempError,customError.msg="Validation Failed"}return res.status(customError.statusCode).json({status:"Error",message:customError.msg,errors:customError.errors})};module.exports=errorHandlerMiddleware;